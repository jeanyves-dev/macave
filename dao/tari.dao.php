<?phpclass tari_dao{private $_db;public function __construct($db){	$this->setDb($db);}public function add(tari $tari){	$datari = substr($tari->datari(),6,4).".".substr($tari->datari(),3,2).".".substr($tari->datari(),0,2);	$req = "INSERT INTO tari (rebout,mtbout,datari,tytari) VALUES ";	$req = $req.'('.$tari->Rebout().','.$tari->Mtbout().',"'.$datari.'","'.$tari->Tytari().'")';	echo $req;	$q = $this->_db->prepare($req);	$q->execute();}public function delete($retari){	$this->_db->exec("DELETE FROM tari WHERE retari = ".$retari);}public function get($retari){	$retari = (int) $retari;	$q = $this->_db->query("SELECT * FROM tari WHERE retari = ".$retari);	$donnees = $q->fetch(PDO::FETCH_ASSOC);	return new tari($donnees);}public function getLast(){	$q = $this->_db->query("SELECT * FROM tari WHERE retari = (SELECT MAX(retari) FROM tari);");	$donnees = $q->fetch(PDO::FETCH_ASSOC);	return new tari($donnees);}public function getList(){	$tari_liste = array();	$q = $this->_db->query("SELECT * FROM tari");	while ($donnees = $q->fetch(PDO::FETCH_ASSOC))		{$tari_liste[] = new tari($donnees);}	return $tari_liste;}public function getListBout($rebout){	$tari_liste = array();	$q = $this->_db->query("SELECT * FROM tari WHERE rebout = ".$rebout);	while ($donnees = $q->fetch(PDO::FETCH_ASSOC))		{$tari_liste[] = new tari($donnees);}	return $tari_liste;}public function update(tari $tari){	$datari = substr($mven->datari(),6,4).".".substr($mven->datari(),3,2).".".substr($mven->datari(),0,2);	$req = "UPDATE tari SET ";	$req = "  rebout = ".$tari->Rebout;	$req = ", mtbout = ".$tari->mtbout;	$req = ", datari = '".$datari."'";	$req = ", tytari = '".$tari->tytari."'";	$req = $req. " WHERE retari = ".$tari->retari();	$q = $this->_db->prepare($req);	$q->execute();}public function setDb(PDO $db){	$this->_db = $db;}}?>